{"is_source_file": true, "format": "JavaScript", "description": "This file sets up express routes for payment-related endpoints, including creating a Stripe PaymentIntent and handling webhooks. It references a PaymentsController, middleware for auth verification, and defines two POST routes.", "external_files": ["../controllers/payments", "../middleware"], "external_methods": ["verifyFirebaseAuth", "controller.createIntent", "controller.webhook"], "published": ["router"], "classes": [], "methods": [{"name": "createIntent", "description": "Creates a Stripe PaymentIntent for a booking, invoked on POST /payments/create-intent"}, {"name": "webhook", "description": "Handles Stripe webhook events, invoked on POST /payments/webhook"}], "calls": ["verifyFirebaseAuth", "controller.createIntent", "controller.webhook", "express.Router", "express.raw"], "search-terms": ["payments", "Stripe PaymentIntent", "Webhook", "create-intent", "Firebase auth middleware"], "state": 2, "file_id": 34, "knowledge_revision": 76, "git_revision": "", "ctags": [{"_type": "tag", "name": "PaymentsController", "path": "/home/kavia/workspace/code-generation/smart-parking-reservation-system-179315-179324/firebase_backend_functions/src/routes/payments.js", "pattern": "/^const PaymentsController = require('..\\/controllers\\/payments');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/smart-parking-reservation-system-179315-179324/firebase_backend_functions/src/routes/payments.js", "pattern": "/^const controller = new PaymentsController();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/smart-parking-reservation-system-179315-179324/firebase_backend_functions/src/routes/payments.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/smart-parking-reservation-system-179315-179324/firebase_backend_functions/src/routes/payments.js", "pattern": "/^const router = express.Router();$/", "language": "JavaScript", "kind": "constant"}], "hash": "4834d9526362afe7feb48e9452bf4cd0", "format-version": 4, "code-base-name": "firebase_backend_functions", "filename": "firebase_backend_functions/src/routes/payments.js", "revision_history": [{"76": ""}]}